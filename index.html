<!doctype html>
<html lang="en">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>Add to Home Screen (Use like an App)</title>
  <style>
    :root { --bg:#ffffff; --text:#111; --muted:#666; --card:#f6f6f7; --border:#e6e6e8; }
    body { margin:0; background:var(--bg); color:var(--text);
      font-family:-apple-system,BlinkMacSystemFont,"Segoe UI",Roboto,Arial,sans-serif; }
    .wrap { max-width: 560px; margin: 0 auto; padding: 18px; }
    .card { background:var(--card); border:1px solid var(--border); border-radius:16px; padding:16px; }
    h1 { font-size: 20px; margin: 0 0 8px; }
    p { margin: 8px 0; color: var(--muted); }
    .steps { margin-top: 12px; background:#fff; border:1px solid var(--border); border-radius:14px; padding: 12px 12px 6px; }
    .steps b { color: var(--text); }
    ol { margin: 10px 0 6px 18px; padding: 0; }
    li { margin: 8px 0; color: #222; }
    .btn {
      display:block; text-align:center; text-decoration:none;
      background:#111; color:#fff; padding:14px 16px;
      border-radius:14px; margin-top: 14px; font-weight: 600;
    }
    .btn:active { transform: translateY(1px); }
    .pill { display:inline-block; padding: 3px 10px; border-radius: 999px;
      background:#fff; border:1px solid var(--border); color:#333; font-size: 12px; }
    .warn { margin-top: 12px; padding: 12px; border-radius: 14px;
      border: 1px dashed #d0d0d6; background: #fff; color:#333; }
    .small { font-size: 13px; color: var(--muted); }
    .hide { display:none; }
  </style>
</head>
<body>
  <div class="wrap">
    <div class="card">
      <h1>Add to Home Screen (Use like an App)</h1>
      <p>You’ve opened the setup page. Follow the steps for your device.</p>
      <p class="small">Best experience: <span class="pill">iPhone → Safari</span> / <span class="pill">Android → Chrome</span></p>

      <!-- iOS -->
      <div id="iosSteps" class="steps hide">
        <b>iPhone / iPad (Safari)</b>
        <ol>
          <li>Tap the <b>Share</b> button (⬆️) at the bottom</li>
          <li>Select <b>Add to Home Screen</b></li>
          <li>Tap <b>Add</b> (top-right) to finish</li>
        </ol>
        <p class="small">After that, you’ll see an icon on your home screen. Open it like a normal app.</p>
      </div>

      <!-- Android -->
      <div id="androidSteps" class="steps hide">
        <b>Android (Chrome)</b>
        <ol>
          <li>Tap the <b>⋮</b> menu (top-right)</li>
          <li>Select <b>Add to Home screen</b> or <b>Install app</b> (wording may vary)</li>
          <li>Confirm <b>Install/Add</b></li>
        </ol>
        <p class="small">You’ll get a home-screen icon—open it like an app.</p>
      </div>

      <!-- In-app browsers -->
      <div id="inAppWarn" class="warn hide">
        <b>If you opened this inside WeChat/QQ:</b>
        <p class="small">You may not see “Add to Home Screen.” Tap the top-right menu and choose <b>Open in browser</b> (Safari on iPhone, Chrome on Android).</p>
      </div>

      <a id="openBtn" class="btn" href="#" rel="noopener">Open the App</a>
      <p class="small">If you already added it to your home screen, please launch it from the icon next time.</p>
    </div>
  </div>

  <script>
    // ✅ Replace this with your Dify Web App link
    const DIFY_URL = "https://udify.app/chat/CzmMLg7DbzxLuy00";

    // Detect platform & in-app browsers
    const ua = navigator.userAgent || "";
    const isIOS = /iPhone|iPad|iPod/i.test(ua);
    const isWeChat = /MicroMessenger/i.test(ua);
    const isQQ = /\sQQ\//i.test(ua) || /QQBrowser/i.test(ua);
    const isInApp = isWeChat || isQQ;

    // Show steps
    document.getElementById(isIOS ? "iosSteps" : "androidSteps").classList.remove("hide");
    if (isInApp) document.getElementById("inAppWarn").classList.remove("hide");

    // Button jump to Dify
    document.getElementById("openBtn").href = DIFY_URL;
  </script>
</body>
</html>
